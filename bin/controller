#!/usr/bin/env node

const app = require('../lib');
const utils = require('../lib/utils');

utils.chooseMidiInputDevice()
  .then(inputDeviceName => {
    console.log(`Listening for MIDI input from ${inputDeviceName}`);
    app.start(inputDeviceName);
  });

process.on('SIGTERM', onExit);

function onExit() {
  console.log('Exiting.');
	app.stop();
}
